<% content_for :title, @page_title %>

<!-- Hero Section -->
<section class="hub-hero py-10 sm:py-14 lg:py-20 border-b-2 border-[var(--color-border)]">
  <div class="max-w-7xl mx-auto px-4 sm:px-6">
    <div class="max-w-3xl">
      <nav class="flex items-center gap-2 text-xs font-medium text-[var(--color-text-muted)] mb-4">
        <%= link_to root_path, class: "hover:text-[var(--color-accent)] transition-colors" do %>ScoreBase<% end %>
        <span class="text-[var(--color-border-subtle)]">/</span>
        <span class="text-[var(--color-accent)]"><%= t('score.voicing') %></span>
      </nav>

      <h1 class="text-3xl sm:text-4xl lg:text-5xl font-[var(--font-family-display)] mb-3 leading-tight font-black uppercase tracking-tight hero-title">
        <%= t('score.voicing') %>
      </h1>
      <p class="text-base sm:text-lg font-medium hero-subtitle">
        <%= t('hub.voicing_description', count: @voicings.size) %>
      </p>
    </div>
  </div>
</section>

<!-- Voicing Grid -->
<div class="max-w-7xl mx-auto px-4 sm:px-6 py-8 sm:py-12">
  <% if @voicings.any? %>
    <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-5">
      <% @voicings.each_with_index do |voicing, i| %>
        <%= link_to voicing_path(slug: voicing[:slug]),
            class: "hub-card mm-card p-5 sm:p-6 group",
            style: "animation-delay: #{i * 30}ms" do %>
          <!-- Voicing Badge -->
          <div class="inline-flex items-center px-3 py-1.5 bg-[var(--color-accent)] text-white font-[var(--font-family-display)] font-bold text-sm border-2 border-[var(--color-border)] mb-3 tracking-wide">
            <%= voicing[:name] %>
          </div>

          <p class="text-sm text-[var(--color-text-muted)] font-semibold">
            <span class="text-[var(--color-accent)] font-bold text-lg"><%= number_with_delimiter(voicing[:count]) %></span>
            <span class="block mt-1"><%= t('search.results_count').downcase %></span>
          </p>
        <% end %>
      <% end %>
    </div>
  <% else %>
    <div class="mm-card p-8 sm:p-12 text-center">
      <div class="text-6xl mb-4 text-[var(--color-border-subtle)]">ðŸŽ¤</div>
      <p class="text-[var(--color-text-muted)] font-medium"><%= t('hub.no_scores_found') %></p>
    </div>
  <% end %>
</div>

<style>
  .hub-hero { background: linear-gradient(135deg, #ffffff 0%, #fefcf9 50%, #ffffff 100%); }
  [data-theme="dark"] .hub-hero { background: linear-gradient(135deg, #2a2520 0%, #1f1b18 50%, #2d2823 100%); }
  .hub-card { animation: hubCardFadeIn 0.4s ease both; }
  @keyframes hubCardFadeIn { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
</style>
