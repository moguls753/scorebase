<%= link_to score_path(score), class: "mm-card overflow-hidden group block", data: { turbo_frame: "_top" } do %>
  <!-- Thumbnail -->
  <div class="aspect-square bg-[var(--color-bg)] flex items-center justify-center relative overflow-hidden border-b-2 border-[var(--color-border)]">
    <!-- Placeholder shown while image loads -->
    <div class="absolute inset-0 flex items-center justify-center text-6xl text-[var(--color-border-subtle)]">â™ª</div>
    <% if score.has_thumbnail? %>
      <%= image_tag score.thumbnail,
          alt: score.title,
          class: "w-full h-full object-cover object-top relative z-10"
      %>
    <% end %>
  </div>

  <!-- Card Content -->
  <div class="p-3">
    <h4 class="text-sm font-[var(--font-family-display)] text-[var(--color-primary)] mb-1 leading-tight font-bold line-clamp-1">
      <%= score.title %>
    </h4>
    <p class="text-xs text-[var(--color-text-muted)] mb-2 line-clamp-1 font-medium">
      <%= score.composer.presence || t('search.unknown_composer') %>
    </p>

    <!-- Metadata Badges -->
    <div class="flex items-center gap-1.5 flex-wrap">
      <% if score.source.present? %>
        <span class="mm-badge-source mm-badge-<%= score.source %> inline-block">
          <%= score.source.upcase %>
        </span>
      <% end %>
      <% if score.primary_key_signature.present? %>
        <span class="mm-badge text-[10px] inline-block">
          <%= score.primary_key_signature %>
        </span>
      <% end %>
    </div>
  </div>
<% end %>
