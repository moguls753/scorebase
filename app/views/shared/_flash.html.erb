<% if flash.any? %>
  <div class="flash-container" data-controller="flash">
    <% flash.each do |type, message| %>
      <div class="flash-toast flash-toast--<%= type %>"
           role="<%= type == 'alert' ? 'alert' : 'status' %>"
           aria-live="<%= type == 'alert' ? 'assertive' : 'polite' %>"
           data-flash-target="toast">
        <div class="flash-toast-content">
          <span class="flash-toast-icon">
            <% if type == 'notice' %>
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 6 9 17l-5-5"/>
              </svg>
            <% else %>
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"/>
                <line x1="12" y1="8" x2="12" y2="12"/>
                <line x1="12" y1="16" x2="12.01" y2="16"/>
              </svg>
            <% end %>
          </span>
          <span class="flash-toast-message"><%= message %></span>
        </div>
        <button type="button"
                class="flash-toast-close"
                aria-label="<%= t('flash.dismiss', default: 'Dismiss') %>"
                data-action="click->flash#dismiss">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </button>
      </div>
    <% end %>
  </div>
<% end %>
